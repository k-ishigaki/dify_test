app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: PDFã‚’Markdownã«å¤‰æ›
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: kurokobo/file_tools:0.0.2@8bde7b4d2c30cf22e8f6ce851572af244f7a5776addab94330b820dc2160726c
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.2.8@aae2be0913b8c6f0b80cff58e08d7a8b4c214569b41778413fcaea204561ff16
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: kalochin/pdf_process:1.0.0@052e5c10b080c86e949055c64575647737c2e14947b0b1bc87a44d1c6ed0f1de
    version: null
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: k-ishigaki/url-file-converter:0.0.1@45e71fdec3df2358b8363fa220904bba8e621471fbf177672a31cd26231abc5d
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: tool
      id: 1770452282569-source-1770452470467-target
      selected: false
      source: '1770452282569'
      sourceHandle: source
      target: '1770452470467'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: iteration
      id: 1770452470467-source-1770452505388-target
      selected: false
      source: '1770452470467'
      sourceHandle: source
      target: '1770452505388'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770452505388'
        sourceType: iteration-start
        targetType: tool
      id: 1770452505388start-source-1770452531953-target
      selected: false
      source: 1770452505388start
      sourceHandle: source
      target: '1770452531953'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: iteration
      id: 1770452505388-source-1770454277915-target
      selected: false
      source: '1770452505388'
      sourceHandle: source
      target: '1770454277915'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770454277915'
        sourceType: iteration-start
        targetType: tool
      id: 1770454277915start-source-1770454318401-target
      selected: false
      source: 1770454277915start
      sourceHandle: source
      target: '1770454318401'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: iteration
      id: 1770452470467-source-1770454404971-target
      selected: false
      source: '1770452470467'
      sourceHandle: source
      target: '1770454404971'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770454404971'
        sourceType: iteration-start
        targetType: http-request
      id: 1770454404971start-source-1770562318405-target
      selected: false
      source: 1770454404971start
      sourceHandle: source
      target: '1770562318405'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: http-request
      id: 1770452282569-source-1770806846109-target
      selected: false
      source: '1770452282569'
      sourceHandle: source
      target: '1770806846109'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 1770806846109-source-1770806900883-target
      selected: false
      source: '1770806846109'
      sourceHandle: source
      target: '1770806900883'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1770806900883-source-1770814078078-target
      selected: false
      source: '1770806900883'
      sourceHandle: source
      target: '1770814078078'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770454404971'
        sourceType: http-request
        targetType: tool
      id: 1770562318405-source-1770913181334-target
      source: '1770562318405'
      sourceHandle: source
      target: '1770913181334'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: iteration
      id: 1770454404971-source-1770991700947-target
      source: '1770454404971'
      sourceHandle: source
      target: '1770991700947'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991700947'
        sourceType: iteration-start
        targetType: tool
      id: 1770991700947start-source-1770991752141-target
      source: 1770991700947start
      sourceHandle: source
      target: '1770991752141'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: llm
        targetType: iteration
      id: 1770814078078-source-1770991923703-target
      source: '1770814078078'
      sourceHandle: source
      target: '1770991923703'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: code
        targetType: code
      id: 1771032252152-source-1771032342891-target
      source: '1771032252152'
      sourceHandle: source
      target: '1771032342891'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: code
        targetType: llm
      id: 1771032342891-source-1771032382822-target
      source: '1771032342891'
      sourceHandle: source
      target: '1771032382822'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: tool
        targetType: llm
      id: 1771030994148-source-1771032382822-target
      source: '1771030994148'
      sourceHandle: source
      target: '1771032382822'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: llm
        targetType: code
      id: 1771032382822-source-1771032507733-target
      source: '1771032382822'
      sourceHandle: source
      target: '1771032507733'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1770991923703-source-1771032675892-target
      source: '1770991923703'
      sourceHandle: source
      target: '1771032675892'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: end
      id: 1771032823991-source-1770462859458-target
      source: '1771032823991'
      sourceHandle: source
      target: '1770462859458'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: iteration
      id: 1770454277915-source-1770991923703-target
      source: '1770454277915'
      sourceHandle: source
      target: '1770991923703'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: iteration
      id: 1770991700947-source-1770991923703-target
      source: '1770991700947'
      sourceHandle: source
      target: '1770991923703'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: iteration-start
        targetType: tool
      id: 1770991923703start-source-1771030994148-target
      source: 1770991923703start
      sourceHandle: source
      target: '1771030994148'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        sourceType: iteration-start
        targetType: code
      id: 1770991923703start-source-1771032252152-target
      source: 1770991923703start
      sourceHandle: source
      target: '1771032252152'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1771032675892-source-1771119033901-target
      source: '1771032675892'
      sourceHandle: source
      target: '1771119033901'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1771119033901-source-1771032823991-target
      source: '1771119033901'
      sourceHandle: source
      target: '1771032823991'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
        type: start
        variables:
        - allowed_file_extensions:
          - .pdf
          allowed_file_types:
          - custom
          allowed_file_upload_methods:
          - local_file
          - remote_url
          default: ''
          hint: ''
          label: file
          max_length: 48
          options: []
          placeholder: ''
          required: true
          type: file
          variable: file
      height: 109
      id: '1770452282569'
      position:
        x: 0
        y: 600
      positionAbsolute:
        x: 0
        y: 600
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: PDF file content to split into individual pages
            ja_JP: PDF file content to split into individual pages
            pt_BR: PDF file content to split into individual pages
            zh_Hans: è¦åˆ†å‰²æˆå•ç‹¬é¡µé¢çš„PDFæ–‡ä»¶å†…å®¹
          label:
            en_US: PDF Content
            ja_JP: PDF Content
            pt_BR: PDF Content
            zh_Hans: PDF å†…å®¹
          llm_description: PDF file content in base64 encoded format or as a file
            object
          max: null
          min: null
          name: pdf_content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        params:
          pdf_content: ''
        plugin_id: kalochin/pdf_process
        plugin_unique_identifier: kalochin/pdf_process:1.0.0@052e5c10b080c86e949055c64575647737c2e14947b0b1bc87a44d1c6ed0f1de
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=5d93e448e2a5ceca3b5e805eea91c7605ac2cd40a718f32bcf8a54666a800e84.svg
        provider_id: kalochin/pdf_process/pdf_process
        provider_name: kalochin/pdf_process/pdf_process
        provider_type: builtin
        selected: false
        title: PDF Splitter
        tool_configurations: {}
        tool_description: A tool for splitting PDF files into individual pages
        tool_label: PDF Splitter
        tool_name: pdf_splitter
        tool_node_version: '2'
        tool_parameters:
          pdf_content:
            type: variable
            value:
            - '1770452282569'
            - file
        type: tool
      height: 52
      id: '1770452470467'
      position:
        x: 362
        y: 364
      positionAbsolute:
        x: 362
        y: 364
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 172
        is_parallel: false
        iterator_input_type: array[file]
        iterator_selector:
        - '1770452470467'
        - files
        output_selector:
        - '1770452531953'
        - files
        output_type: array[file]
        parallel_nums: 10
        selected: false
        start_node_id: 1770452505388start
        title: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆä½œæˆ
        type: iteration
        width: 486
      height: 172
      id: '1770452505388'
      position:
        x: 724
        y: 18
      positionAbsolute:
        x: 724
        y: 18
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 486
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770452505388start
      parentId: '1770452505388'
      position:
        x: 60
        y: 62
      positionAbsolute:
        x: 784
        y: 80
      selectable: false
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770452505388'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: PDF file to convert to PNG images
            ja_JP: PDF file to convert to PNG images
            pt_BR: PDF file to convert to PNG images
            zh_Hans: è¦è½¬æ¢ä¸ºPNGå›¾ç‰‡çš„PDFæ–‡ä»¶
          label:
            en_US: PDF Content
            ja_JP: PDF Content
            pt_BR: PDF Content
            zh_Hans: PDF å†…å®¹
          llm_description: PDF file content to be converted to PNG images
          max: null
          min: null
          name: pdf_content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: 2
          form: llm
          human_description:
            en_US: Zoom factor for image quality (default is 2)
            ja_JP: Zoom factor for image quality (default is 2)
            pt_BR: Zoom factor for image quality (default is 2)
            zh_Hans: å›¾åƒè´¨é‡çš„ç¼©æ”¾å› å­ï¼ˆé»˜è®¤ä¸º2ï¼‰
          label:
            en_US: Zoom Factor
            ja_JP: Zoom Factor
            pt_BR: Zoom Factor
            zh_Hans: ç¼©æ”¾å› å­
          llm_description: Zoom factor to control the quality of output PNG images
          max: null
          min: null
          name: zoom
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        params:
          pdf_content: ''
          zoom: ''
        plugin_id: kalochin/pdf_process
        plugin_unique_identifier: kalochin/pdf_process:1.0.0@052e5c10b080c86e949055c64575647737c2e14947b0b1bc87a44d1c6ed0f1de
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=5d93e448e2a5ceca3b5e805eea91c7605ac2cd40a718f32bcf8a54666a800e84.svg
        provider_id: kalochin/pdf_process/pdf_process
        provider_name: kalochin/pdf_process/pdf_process
        provider_type: builtin
        selected: false
        title: PDF to PNG Converter
        tool_configurations: {}
        tool_description: A tool for converting PDF files to PNG images
        tool_label: PDF to PNG Converter
        tool_name: pdf_to_png
        tool_node_version: '2'
        tool_parameters:
          pdf_content:
            type: variable
            value:
            - '1770452505388'
            - item
          zoom:
            type: constant
            value: 2
        type: tool
      height: 52
      id: '1770452531953'
      parentId: '1770452505388'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 908
        y: 78
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 208
        is_parallel: false
        iterator_input_type: array[string]
        iterator_selector:
        - '1770452505388'
        - output
        output_selector:
        - '1770454318401'
        - text
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1770454277915start
        title: ç”»åƒURLãƒªã‚¹ãƒˆä½œæˆ
        type: iteration
        width: 486
      height: 208
      id: '1770454277915'
      position:
        x: 1632
        y: 0
      positionAbsolute:
        x: 1632
        y: 0
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 486
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770454277915start
      parentId: '1770454277915'
      position:
        x: 60
        y: 80
      positionAbsolute:
        x: 1692
        y: 80
      selectable: false
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770454277915'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: File object to get download url.
            ja_JP: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚
            pt_BR: Objeto de arquivo para obter URL de download.
            zh_Hans: è¦è·å–ä¸‹è½½ URL çš„æ–‡ä»¶å¯¹è±¡ã€‚
          label:
            en_US: File
            ja_JP: File
            pt_BR: File
            zh_Hans: File
          llm_description: ''
          max: null
          min: null
          name: file
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The text to use for the markdown link. Ignored if "format" is not
              "markdown". Default is empty, which means the filename will be used
              as the link text.
            ja_JP: Markdown ãƒªãƒ³ã‚¯ã«ä½¿ç”¨ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã€‚"format" ãŒ "markdown" ã§ãªã„å ´åˆã¯ç„¡è¦–ã•ã‚Œã‚‹ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºã§ã€ãƒ•ã‚¡ã‚¤ãƒ«åãŒãƒªãƒ³ã‚¯ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹ã€‚
            pt_BR: O texto a ser usado para o link markdown. Ignorado se "format"
              nÃ£o for "markdown". O padrÃ£o Ã© vazio, o que significa que o nome do
              arquivo serÃ¡ usado como texto do link.
            zh_Hans: ç”¨äº Markdown é“¾æ¥çš„æ–‡æœ¬ã€‚å¦‚æœ "format" ä¸æ˜¯ "markdown" åˆ™å¿½ç•¥ã€‚ é»˜è®¤ä¸ºç©ºï¼Œè¿™æ„å‘³ç€æ–‡ä»¶åå°†ç”¨ä½œé“¾æ¥æ–‡æœ¬ã€‚
          label:
            en_US: Link text for markdown link
            ja_JP: Link text for markdown link
            pt_BR: Link text for markdown link
            zh_Hans: Link text for markdown link
          llm_description: ''
          max: null
          min: null
          name: link_text
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: plain
          form: form
          human_description:
            en_US: Format of the download url. "markdown" for markdown link, "plain"
              for plain url. Default is "plain".
            ja_JP: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã®å½¢å¼ã€‚Markdown ãƒªãƒ³ã‚¯ã®å ´åˆã¯ "markdown"ã€ãƒ—ãƒ¬ãƒ¼ãƒ³ URL ã®å ´åˆã¯ "plain"ã€‚
              ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ "plain"ã€‚
            pt_BR: Formato da URL de download. "markdown" para link markdown, "plain"
              para URL simples. O padrÃ£o Ã© "plain".
            zh_Hans: ä¸‹è½½ URL çš„æ ¼å¼ã€‚"markdown" è¡¨ç¤º Markdown é“¾æ¥ï¼Œ"plain" è¡¨ç¤ºçº¯ URLã€‚ é»˜è®¤ä¸º "plain"ã€‚
          label:
            en_US: Format of the download url
            ja_JP: Format of the download url
            pt_BR: Format of the download url
            zh_Hans: Format of the download url
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - icon: ''
            label:
              en_US: markdown
              ja_JP: markdown
              pt_BR: markdown
              zh_Hans: markdown
            value: markdown
          - icon: ''
            label:
              en_US: plain
              ja_JP: plain
              pt_BR: plain
              zh_Hans: plain
            value: plain
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          file: ''
          format: ''
          link_text: ''
        plugin_id: kurokobo/file_tools
        plugin_unique_identifier: kurokobo/file_tools:0.0.2@8bde7b4d2c30cf22e8f6ce851572af244f7a5776addab94330b820dc2160726c
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=ee7d6c28060a54d022218fdf905d7111d02c37749d033c631e13651d6a1539d2.svg
        provider_id: kurokobo/file_tools/file_tools
        provider_name: kurokobo/file_tools/file_tools
        provider_type: builtin
        selected: false
        title: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—
        tool_configurations:
          format:
            type: constant
            value: plain
        tool_description: ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—ã—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ Markdown ãƒªãƒ³ã‚¯ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
        tool_label: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—
        tool_name: get_download_url
        tool_node_version: '2'
        tool_parameters:
          file:
            type: variable
            value:
            - '1770454277915'
            - item
          link_text:
            type: mixed
            value: ''
        type: tool
      height: 88
      id: '1770454318401'
      parentId: '1770454277915'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 1816
        y: 60
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 257
        is_parallel: false
        iterator_input_type: array[file]
        iterator_selector:
        - '1770452470467'
        - files
        output_selector:
        - '1770913181334'
        - files
        output_type: array[file]
        parallel_nums: 10
        selected: false
        start_node_id: 1770454404971start
        title: markdownãƒªã‚¹ãƒˆä½œæˆ
        type: iteration
        width: 808
      height: 257
      id: '1770454404971'
      position:
        x: 724
        y: 270
      positionAbsolute:
        x: 724
        y: 270
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 808
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770454404971start
      parentId: '1770454404971'
      position:
        x: 60
        y: 105
      positionAbsolute:
        x: 784
        y: 375
      selectable: false
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        outputs:
        - value_selector:
          - '1771032823991'
          - files
          value_type: array[file]
          variable: file
        - value_selector:
          - '1771119033901'
          - result
          value_type: string
          variable: result
        selected: false
        title: å‡ºåŠ›
        type: end
      height: 114
      id: '1770462859458'
      position:
        x: 4856
        y: 342
      positionAbsolute:
        x: 4856
        y: 342
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - file:
            - '1770454404971'
            - item
            id: key-value-182
            key: file
            type: file
            value: ''
          type: form-data
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1770454404971'
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
        type: http-request
        url: http://pdf2md:8080/convert?format=raw
        variables: []
      height: 137
      id: '1770562318405'
      parentId: '1770454404971'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 908
        y: 330
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - file:
            - '1770452282569'
            - file
            id: key-value-137
            key: file
            type: file
            value: ''
          type: form-data
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: å…¨ãƒšãƒ¼ã‚¸MarkdownåŒ–
        type: http-request
        url: http://pdf2md:8080/convert?format=raw
        variables: []
      height: 137
      id: '1770806846109'
      position:
        x: 362
        y: 604
      positionAbsolute:
        x: 362
        y: 604
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(markdown: str):\n    \"\"\"Extract markdown headings (lines\
          \ starting with '#') excluding those inside fenced code blocks.\"\"\"\n\
          \    lines = markdown.splitlines()\n\n    headings = []\n    in_fenced_code_block\
          \ = False\n\n    for line in lines:\n        stripped = line.lstrip()\n\n\
          \        # Toggle fenced code block state on lines starting with ``` or\
          \ ~~~\n        if stripped.startswith(\"```\") or stripped.startswith(\"\
          ~~~\"):\n            in_fenced_code_block = not in_fenced_code_block\n \
          \           continue\n\n        if in_fenced_code_block:\n            continue\n\
          \n        # Heading lines: must start with one or more '#' after optional\
          \ leading spaces\n        if stripped.startswith(\"#\"):\n            headings.append(line)\n\
          \n    return {\n        \"result\": \"\\n\".join(headings),\n    }\n"
        code_language: python3
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è¦‹å‡ºã—ã®ã¿æŠ½å‡º
        type: code
        variables:
        - value_selector:
          - '1770806846109'
          - body
          value_type: string
          variable: markdown
      height: 52
      id: '1770806900883'
      position:
        x: 1534
        y: 647
      positionAbsolute:
        x: 1534
        y: 647
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: pdf2mdã®è¦‹å‡ºã—æƒ…å ±ã¯ãã®ã¾ã¾ä½¿ã†ã¨ã€è¦‹å‡ºã—ã¨ã™ã¹ãã§ã¯ãªã„ã‚‚ã®ã‚‚è¦‹å‡ºã—åŒ–ã•ã‚Œã¦ã—ã¾ã†ãŸã‚ã€LLMã«æ„å‘³åˆã„çš„ä¿®æ­£ã‚’ä»»ã›ã‚‹ã€‚è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´ã‚‚è¡Œã£ã¦ã‚‚ã‚‰ã†ã€‚
        model:
          completion_params: {}
          mode: chat
          name: gpt-5.2
          provider: langgenius/openai/openai
        prompt_template:
        - id: 55967c67-53d0-4d7b-9361-75156288790c
          role: system
          text: 'ä»¥ä¸‹ã¯ã€PDFã‚’markdownã«å¤‰æ›ã—ã¦ãã®è¦‹å‡ºã—éƒ¨åˆ†ã®ã¿ã‚’æŠ½å‡ºã—ãŸã‚‚ã®ã§ã™ã€‚ã“ã®ä¸­ã‹ã‚‰è¦‹å‡ºã—ã¨ã™ã¹ãã§ã¯ãªã„è¦‹å‡ºã—ï¼ˆOCRã§é–“é•ã£ã¦è¦‹å‡ºã—æ‰±ã„ã•ã‚Œã¦ã—ã¾ã£ãŸã¨æ€ã‚ã‚Œã‚‹è¦‹å‡ºã—ï¼‰ã®è¡Œã‚’å‰Šé™¤ã—ãŸã‚‚ã®ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚


            æ³¨æ„ç‚¹ï¼š

            * å‡ºåŠ›ã«ã¯ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã¯å«ã‚ãªã„ã“ã¨

            * æ®‹ã™è¦‹å‡ºã—ã®è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã¯ã€å‘¨è¾ºã®æµã‚Œã‚’è€ƒãˆã¦æ§‹é€ çš„ã«ãªã‚‹ã‚ˆã†ã«å¢—æ¸›ã•ã›ã‚‹ã“ã¨


            ```markdown

            {{#1770806900883.result#}}

            ```'
        selected: false
        title: è¦‹å‡ºã—èª¿æ•´
        type: llm
        vision:
          enabled: false
      height: 180
      id: '1770814078078'
      position:
        x: 1876
        y: 583
      positionAbsolute:
        x: 1876
        y: 583
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770454404971'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The content to save as a file. This can be plain text or base64
              encoded binary data. Choose the appropriate format in the "format" parameter.
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯ Base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã€‚ "format" ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§é©åˆ‡ãªå½¢å¼ã‚’é¸æŠã™ã‚‹ã€‚
            pt_BR: O conteÃºdo a ser salvo como arquivo. Pode ser texto simples ou
              dados binÃ¡rios codificados em Base64. Escolha o formato apropriado no
              parÃ¢metro "format".
            zh_Hans: è¦ä¿å­˜ä¸ºæ–‡ä»¶çš„å†…å®¹ã€‚å¯ä»¥æ˜¯çº¯æ–‡æœ¬æˆ– Base64 ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ®ã€‚ åœ¨ "format" å‚æ•°ä¸­é€‰æ‹©é€‚å½“çš„æ ¼å¼ã€‚
          label:
            en_US: Content to save
            ja_JP: Content to save
            pt_BR: Content to save
            zh_Hans: Content to save
          llm_description: ''
          max: null
          min: null
          name: content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: output.txt
          form: llm
          human_description:
            en_US: The name of the file to save the content as. This should include
              the file extension (e.g., "output.txt").
            ja_JP: ä¿å­˜ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åã€‚ ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’å«ã‚ã‚‹ï¼ˆä¾‹ï¼š"output.txt"ï¼‰ã€‚
            pt_BR: O nome do arquivo para salvar o conteÃºdo. Deve incluir a extensÃ£o
              do arquivo (por exemplo, "output.txt").
            zh_Hans: ä¿å­˜å†…å®¹çš„æ–‡ä»¶åã€‚ åº”åŒ…å«æ–‡ä»¶æ‰©å±•åï¼ˆä¾‹å¦‚ï¼š"output.txt"ï¼‰ã€‚
          label:
            en_US: File name to save as
            ja_JP: File name to save as
            pt_BR: File name to save as
            zh_Hans: File name to save as
          llm_description: ''
          max: null
          min: null
          name: filename
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The MIME type of the file. If not provided, it will be guessed
              from the file name.
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã® MIME ã‚¿ã‚¤ãƒ—ã€‚æä¾›ã•ã‚Œãªã„å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ¨æ¸¬ã•ã‚Œã‚‹ã€‚
            pt_BR: O tipo MIME do arquivo. Se nÃ£o fornecido, serÃ¡ adivinhado a partir
              do nome do arquivo.
            zh_Hans: æ–‡ä»¶çš„ MIME ç±»å‹ã€‚å¦‚æœæœªæä¾›ï¼Œå°†ä»æ–‡ä»¶åçŒœæµ‹ã€‚
          label:
            en_US: MIME type of the file
            ja_JP: MIME type of the file
            pt_BR: MIME type of the file
            zh_Hans: MIME type of the file
          llm_description: ''
          max: null
          min: null
          name: mime_type
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: text
          form: form
          human_description:
            en_US: The format of the content to save. Select "text" to save passed
              string content as is, or "base64" to save passed content after decoding
              it from base64.
            ja_JP: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å½¢å¼ã€‚ æ¸¡ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãã®ã¾ã¾ä¿å­˜ã™ã‚‹å ´åˆã¯ "text" ã‚’é¸æŠã—ã€ Base64 ã‹ã‚‰ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦ä¿å­˜ã™ã‚‹å ´åˆã¯
              "base64" ã‚’é¸æŠã™ã‚‹ã€‚
            pt_BR: O formato do conteÃºdo a ser salvo. Selecione "text" para salvar
              o conteÃºdo da string passada como estÃ¡, ou "base64" para salvar o conteÃºdo
              passado apÃ³s decodificÃ¡-lo do Base64.
            zh_Hans: è¦ä¿å­˜çš„å†…å®¹æ ¼å¼ã€‚ é€‰æ‹© "text" æŒ‰åŸæ ·ä¿å­˜ä¼ é€’çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œ æˆ–é€‰æ‹© "base64" åœ¨ä» Base64 è§£ç åä¿å­˜ä¼ é€’çš„å†…å®¹ã€‚
          label:
            en_US: Format of the content
            ja_JP: Format of the content
            pt_BR: Format of the content
            zh_Hans: Format of the content
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - icon: ''
            label:
              en_US: text
              ja_JP: text
              pt_BR: text
              zh_Hans: text
            value: text
          - icon: ''
            label:
              en_US: base64
              ja_JP: base64
              pt_BR: base64
              zh_Hans: base64
            value: base64
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The encoding to use when saving the file. This parameter is only
              used when the format is "text". Specify a valid Python encoding name
              (e.g., "utf-8", "shift_jis", "euc-jp"). Default is empty, which means
              "utf-8".
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€‚ ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€å½¢å¼ãŒ "text" ã®å ´åˆã«ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ æœ‰åŠ¹ãª Python
              ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°åã‚’æŒ‡å®šã™ã‚‹ï¼ˆä¾‹ï¼š"utf-8"ã€"shift_jis"ã€"euc-jp"ï¼‰ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºã§ã€"utf-8" ã‚’æ„å‘³ã™ã‚‹ã€‚
            pt_BR: A codificaÃ§Ã£o a ser usada ao salvar o arquivo. Este parÃ¢metro Ã©
              usado apenas quando o formato Ã© "text". Especifique um nome de codificaÃ§Ã£o
              Python vÃ¡lido (por exemplo, "utf-8", "shift_jis", "euc-jp"). O padrÃ£o
              Ã© vazio, o que significa "utf-8".
            zh_Hans: ä¿å­˜æ–‡ä»¶æ—¶ä½¿ç”¨çš„ç¼–ç ã€‚ æ­¤å‚æ•°ä»…åœ¨æ ¼å¼ä¸º "text" æ—¶ä½¿ç”¨ã€‚ æŒ‡å®šæœ‰æ•ˆçš„ Python ç¼–ç åç§°ï¼ˆä¾‹å¦‚ï¼š"utf-8"ã€"shift_jis"ã€"euc-jp"ï¼‰ã€‚
              é»˜è®¤å€¼ä¸ºç©ºï¼Œè¡¨ç¤º "utf-8"ã€‚
          label:
            en_US: Encoding
            ja_JP: ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
            pt_BR: CodificaÃ§Ã£o
            zh_Hans: ç¼–ç 
          llm_description: ''
          max: null
          min: null
          name: encoding
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          content: ''
          encoding: ''
          filename: ''
          format: ''
          mime_type: ''
        plugin_id: kurokobo/file_tools
        plugin_unique_identifier: kurokobo/file_tools:0.0.2@8bde7b4d2c30cf22e8f6ce851572af244f7a5776addab94330b820dc2160726c
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=ee7d6c28060a54d022218fdf905d7111d02c37749d033c631e13651d6a1539d2.svg
        provider_id: kurokobo/file_tools/file_tools
        provider_name: kurokobo/file_tools/file_tools
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
        tool_configurations:
          format:
            type: constant
            value: text
        tool_description: å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯ Base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚’ã€æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«åã¨ MIME ã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
        tool_name: save_as_file
        tool_node_version: '2'
        tool_parameters:
          content:
            type: mixed
            value: '{{#1770562318405.body#}}'
          encoding:
            type: mixed
            value: ''
          filename:
            type: mixed
            value: output.md
          mime_type:
            type: mixed
            value: ''
        type: tool
      height: 88
      id: '1770913181334'
      parentId: '1770454404971'
      position:
        x: 506
        y: 85
      positionAbsolute:
        x: 1230
        y: 355
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 208
        is_parallel: false
        iterator_input_type: array[file]
        iterator_selector:
        - '1770454404971'
        - output
        output_selector:
        - '1770991752141'
        - text
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1770991700947start
        title: Markdown URLãƒªã‚¹ãƒˆä½œæˆ
        type: iteration
        width: 486
      height: 208
      id: '1770991700947'
      position:
        x: 1632
        y: 295
      positionAbsolute:
        x: 1632
        y: 295
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 486
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770991700947start
      parentId: '1770991700947'
      position:
        x: 60
        y: 80
      positionAbsolute:
        x: 1692
        y: 375
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770991700947'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: File object to get download url.
            ja_JP: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚
            pt_BR: Objeto de arquivo para obter URL de download.
            zh_Hans: è¦è·å–ä¸‹è½½ URL çš„æ–‡ä»¶å¯¹è±¡ã€‚
          label:
            en_US: File
            ja_JP: File
            pt_BR: File
            zh_Hans: File
          llm_description: ''
          max: null
          min: null
          name: file
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The text to use for the markdown link. Ignored if "format" is not
              "markdown". Default is empty, which means the filename will be used
              as the link text.
            ja_JP: Markdown ãƒªãƒ³ã‚¯ã«ä½¿ç”¨ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã€‚"format" ãŒ "markdown" ã§ãªã„å ´åˆã¯ç„¡è¦–ã•ã‚Œã‚‹ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºã§ã€ãƒ•ã‚¡ã‚¤ãƒ«åãŒãƒªãƒ³ã‚¯ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹ã€‚
            pt_BR: O texto a ser usado para o link markdown. Ignorado se "format"
              nÃ£o for "markdown". O padrÃ£o Ã© vazio, o que significa que o nome do
              arquivo serÃ¡ usado como texto do link.
            zh_Hans: ç”¨äº Markdown é“¾æ¥çš„æ–‡æœ¬ã€‚å¦‚æœ "format" ä¸æ˜¯ "markdown" åˆ™å¿½ç•¥ã€‚ é»˜è®¤ä¸ºç©ºï¼Œè¿™æ„å‘³ç€æ–‡ä»¶åå°†ç”¨ä½œé“¾æ¥æ–‡æœ¬ã€‚
          label:
            en_US: Link text for markdown link
            ja_JP: Link text for markdown link
            pt_BR: Link text for markdown link
            zh_Hans: Link text for markdown link
          llm_description: ''
          max: null
          min: null
          name: link_text
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: plain
          form: form
          human_description:
            en_US: Format of the download url. "markdown" for markdown link, "plain"
              for plain url. Default is "plain".
            ja_JP: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã®å½¢å¼ã€‚Markdown ãƒªãƒ³ã‚¯ã®å ´åˆã¯ "markdown"ã€ãƒ—ãƒ¬ãƒ¼ãƒ³ URL ã®å ´åˆã¯ "plain"ã€‚
              ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ "plain"ã€‚
            pt_BR: Formato da URL de download. "markdown" para link markdown, "plain"
              para URL simples. O padrÃ£o Ã© "plain".
            zh_Hans: ä¸‹è½½ URL çš„æ ¼å¼ã€‚"markdown" è¡¨ç¤º Markdown é“¾æ¥ï¼Œ"plain" è¡¨ç¤ºçº¯ URLã€‚ é»˜è®¤ä¸º "plain"ã€‚
          label:
            en_US: Format of the download url
            ja_JP: Format of the download url
            pt_BR: Format of the download url
            zh_Hans: Format of the download url
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - icon: ''
            label:
              en_US: markdown
              ja_JP: markdown
              pt_BR: markdown
              zh_Hans: markdown
            value: markdown
          - icon: ''
            label:
              en_US: plain
              ja_JP: plain
              pt_BR: plain
              zh_Hans: plain
            value: plain
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          file: ''
          format: ''
          link_text: ''
        plugin_id: kurokobo/file_tools
        plugin_unique_identifier: kurokobo/file_tools:0.0.2@8bde7b4d2c30cf22e8f6ce851572af244f7a5776addab94330b820dc2160726c
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=ee7d6c28060a54d022218fdf905d7111d02c37749d033c631e13651d6a1539d2.svg
        provider_id: kurokobo/file_tools/file_tools
        provider_name: kurokobo/file_tools/file_tools
        provider_type: builtin
        selected: false
        title: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—
        tool_configurations:
          format:
            type: constant
            value: plain
        tool_description: ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—ã—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ Markdown ãƒªãƒ³ã‚¯ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
        tool_label: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ã‚’å–å¾—
        tool_name: get_download_url
        tool_node_version: '2'
        tool_parameters:
          file:
            type: variable
            value:
            - '1770991700947'
            - item
          link_text:
            type: mixed
            value: ''
        type: tool
      height: 88
      id: '1770991752141'
      parentId: '1770991700947'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 1816
        y: 355
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 360
        is_parallel: true
        iterator_input_type: array[string]
        iterator_selector:
        - '1770454277915'
        - output
        output_selector:
        - '1771032507733'
        - result
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1770991923703start
        title: 1ãƒšãƒ¼ã‚¸ãšã¤MarkdownåŒ–
        type: iteration
        width: 1492
      height: 360
      id: '1770991923703'
      position:
        x: 2238
        y: 219
      positionAbsolute:
        x: 2238
        y: 219
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 1492
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770991923703start
      parentId: '1770991923703'
      position:
        x: 60
        y: 204
      positionAbsolute:
        x: 2298
        y: 423
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770991923703'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The URL of the file to download.
            ja_JP: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®URLã€‚
            pt_BR: A URL do arquivo a ser baixado.
            zh_Hans: è¦ä¸‹è½½çš„æ–‡ä»¶URLã€‚
          label:
            en_US: File URL
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«URL
            pt_BR: URL do arquivo
            zh_Hans: æ–‡ä»¶URL
          llm_description: The URL of the file to download.
          max: null
          min: null
          name: url
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          url: ''
        plugin_id: k-ishigaki/url-file-converter
        plugin_unique_identifier: k-ishigaki/url-file-converter:0.0.1@45e71fdec3df2358b8363fa220904bba8e621471fbf177672a31cd26231abc5d
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=f1441c071a96f87326f5eb2ae2bfc5a570e9260e7d2b74c2ac15df4037231c64.svg
        provider_id: k-ishigaki/url-file-converter/url-file-converter
        provider_name: k-ishigaki/url-file-converter/url-file-converter
        provider_type: builtin
        selected: false
        title: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
        tool_configurations: {}
        tool_description: æŒ‡å®šã—ãŸURLã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚„ãƒŠãƒ¬ãƒƒã‚¸ã§åˆ©ç”¨ã§ãã‚‹Difyãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¿”ã—ã¾ã™ã€‚
        tool_label: url-file-converter
        tool_name: url-file-converter
        tool_node_version: '2'
        tool_parameters:
          url:
            type: mixed
            value: '{{#1770991923703.item#}}'
        type: tool
      height: 52
      id: '1771030994148'
      parentId: '1770991923703'
      position:
        x: 526
        y: 60
      positionAbsolute:
        x: 2764
        y: 279
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        code: "\nimport requests\n\ndef main(markdown_url_list: list[str], index:\
          \ int):\n    markdown_url = markdown_url_list[index]\n    \"\"\"Download\
          \ markdown content from the given URL and return it as result.\"\"\"\n \
          \   resp = requests.get(markdown_url, timeout=30)\n    resp.raise_for_status()\n\
          \    return {\n        \"result\": resp.text,\n    }\n"
        code_language: python3
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Markdownå–å¾—
        type: code
        variables:
        - value_selector:
          - '1770991700947'
          - output
          value_type: array[string]
          variable: markdown_url_list
        - value_selector:
          - '1770991923703'
          - index
          value_type: number
          variable: index
      height: 52
      id: '1771032252152'
      parentId: '1770991923703'
      position:
        x: 204
        y: 210
      positionAbsolute:
        x: 2442
        y: 429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        code: "def main(markdown: str):\n    \"\"\"Remove leading '#' from Markdown\
          \ headings only (keep '#' inside code blocks).\"\"\"\n\n    lines = markdown.splitlines(keepends=True)\n\
          \    out = []\n    in_fenced_code = False\n\n    for line in lines:\n  \
          \      stripped = line.lstrip()\n\n        # Toggle fenced code blocks:\
          \ ``` or ~~~ (allow leading spaces)\n        if stripped.startswith(\"```\"\
          ) or stripped.startswith(\"~~~\"):\n            in_fenced_code = not in_fenced_code\n\
          \            out.append(line)\n            continue\n\n        if in_fenced_code:\n\
          \            out.append(line)\n            continue\n\n        # For headings:\
          \ remove all leading '#' characters, then remove one following space if\
          \ present\n        i = 0\n        while i < len(line) and line[i] == \"\
          #\":\n            i += 1\n        if i > 0:\n            if i < len(line)\
          \ and line[i] == \" \":\n                i += 1\n            out.append(line[i:])\n\
          \        else:\n            out.append(line)\n\n    return {\n        \"\
          result\": \"\".join(out),\n    }\n"
        code_language: python3
        desc: é©å½“ãªè¦‹å‡ºã—ãŒæ®‹ã£ã¦ã„ã‚‹ã¨ã€ç”»åƒæƒ…å ±ã‚’çµ±åˆã™ã‚‹ã¨ãã«LLMã‚’æ··ä¹±ã•ã›ã¦ã—ã¾ã†ãŸã‚ã€OCRçµæœã‹ã‚‰ã¯è¦‹å‡ºã—ã‚’å…¨é™¤å»ã—ã¦ãŠã
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è¦‹å‡ºã—ã®ã€Œ#ã€é™¤å»
        type: code
        variables:
        - value_selector:
          - '1771032252152'
          - result
          value_type: string
          variable: markdown
      height: 128
      id: '1771032342891'
      parentId: '1770991923703'
      position:
        x: 526
        y: 172
      positionAbsolute:
        x: 2764
        y: 391
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 1ãƒšãƒ¼ã‚¸åˆ†ã®OCRçµæœã¨ç”»åƒæƒ…å ±ã€ãã—ã¦å…¨ãƒšãƒ¼ã‚¸åˆ†ã®è¦‹å‡ºã—æƒ…å ±ã‚’æ¸¡ã—ã€1ãƒšãƒ¼ã‚¸åˆ†ã®Markdownã‚’å‡ºåŠ›ã—ã¦ã‚‚ã‚‰ã†
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-5-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 22181e3a-ec6c-4da8-9eca-c8479cc0c74a
          role: system
          text: 'ç›®çš„ã¯ã€æœ€çµ‚çš„ã«PDFã‚’æ­£ç¢ºã«Markdownã¸å¤‰æ›ã™ã‚‹ã“ã¨ã§ã™ã€‚OCRã®ã¿ã§ã¯å›³è¡¨ã‚„è¡¨ã®æƒ…å ±ãŒæ¬ è½ãƒ»èª¤èªã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ãŸã‚ã€LLMã‚’ç”¨ã„ã¦å›³è¡¨æƒ…å ±ã‚’çµ±åˆãƒ»è£œå®Œã—ã€æ–‡è„ˆã«æ²¿ã£ãŸæ­£ç¢ºãªMarkdownã‚’å‡ºåŠ›ã—ã¾ã™ã€‚ä»Šå›ã¯ãã®ã†ã¡ã®1ãƒšãƒ¼ã‚¸åˆ†ã®å‡¦ç†ã§ã™ã€‚

            æ³¨æ„ç‚¹ã‚’å³å®ˆã—ã€ã€Œç¾åœ¨ãƒšãƒ¼ã‚¸ã®OCRçµæœã€ã¨ç”»åƒæƒ…å ±ã‚’çµ±åˆã—ãŸmarkdownã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚


            ## æ³¨æ„ç‚¹


            * ç”»åƒãƒªãƒ³ã‚¯ã¯ç½®ã‹ãªã„ã“ã¨ï¼ˆã‚ãã¾ã§æƒ…å ±ã‚’çµ±åˆã™ã‚‹ã“ã¨ï¼‰

            * ç”»åƒã®å†…å®¹ã‹ã‚‰ã€ãƒšãƒ¼ã‚¸å†…å®¹ã®æ„å‘³ãŒé€šã˜ã‚‹ã‚ˆã†ã«OCRã®å†…å®¹ã‚’é©å®œä¿®æ­£ã™ã‚‹ã“ã¨

            * å‡ºåŠ›ã¯ç”Ÿã®markdownã®ã¿ã¨ã—ã€å¤–å´ã«ã¯ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä»˜ä¸ã—ãªã„ã“ã¨

            * ã€Œå…¨ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—æƒ…å ±ã€ã§ä»Šå›ã«è©²å½“ã™ã‚‹ã¨æ€ã‚ã‚Œã‚‹éƒ¨åˆ†ã®è¦‹å‡ºã—ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨

            * ã€Œå…¨ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—æƒ…å ±ã€ã«å«ã¾ã‚Œãªã„è¦‹å‡ºã—ã¯ã€è¦‹å‡ºã—ã¨ã¯ã—ãªã„ã“ã¨

            * è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã¯ã€Œå…¨ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—æƒ…å ±ã€ã®ã¿ã‚’æ¡ç”¨ã—ã€å‹æ‰‹ã«ãƒ¬ãƒ™ãƒ«ã®æ·±ã•ã‚’å¤‰æ›´ã—ãªã„ã“ã¨


            ## ç¾åœ¨ãƒšãƒ¼ã‚¸ã®OCRçµæœ


            ```markdown

            {{#1771032342891.result#}}

            ```


            ## å…¨ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—æƒ…å ±


            ```markdown

            {{#1770814078078.text#}}

            ```'
        retry_config:
          max_retries: 10
          retry_enabled: true
          retry_interval: 5000
        selected: false
        title: ç”»åƒæƒ…å ±çµ±åˆ
        type: llm
        vision:
          configs:
            detail: high
            variable_selector:
            - '1771030994148'
            - files
          enabled: true
      height: 193
      id: '1771032382822'
      parentId: '1770991923703'
      position:
        x: 868
        y: 107
      positionAbsolute:
        x: 3106
        y: 326
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        code: "\ndef main(markdown: str, index: int):\n    return {\n        \"result\"\
          : str(index) + \"\\n\" + markdown\n    }\n"
        code_language: python3
        isInIteration: true
        isInLoop: false
        iteration_id: '1770991923703'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: çµæœç”Ÿæˆ
        type: code
        variables:
        - value_selector:
          - '1771032382822'
          - text
          value_type: string
          variable: markdown
        - value_selector:
          - '1770991923703'
          - index
          value_type: number
          variable: index
      height: 52
      id: '1771032507733'
      parentId: '1770991923703'
      position:
        x: 1190
        y: 178
      positionAbsolute:
        x: 3428
        y: 397
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        code: "\ndef main(markdown_list: list[str]):\n    \"\"\"markdown_list: å…ˆé ­è¡Œã«æ•°å€¤(é †åº)ãŒå«ã¾ã‚Œã‚‹markdownæ–‡å­—åˆ—ã®é…åˆ—ã€‚\n\
          \n    - å„è¦ç´ ã®1è¡Œç›®ã«å«ã¾ã‚Œã‚‹æ•°å€¤ã‚’ã‚­ãƒ¼ã«æ˜‡é †ã‚½ãƒ¼ãƒˆã™ã‚‹\n    - ã‚½ãƒ¼ãƒˆå¾Œã®é †ã§markdownæœ¬æ–‡ã‚’çµåˆã—ã¦è¿”ã™\n    -\
          \ å…ˆé ­è¡Œã®æ•°å€¤éƒ¨åˆ†ã¯é™¤å»ã™ã‚‹\n    \"\"\"\n    import re\n\n    def extract_order_and_body(md:\
          \ str):\n        lines = md.splitlines()\n        first = lines[0] if lines\
          \ else \"\"\n        m = re.search(r\"\\d+\", first)\n        order = int(m.group())\
          \ if m else 10**18\n\n        # å…ˆé ­è¡Œã®æ•°å€¤éƒ¨åˆ†ã ã‘ã‚’é™¤å»ï¼ˆä»–ã®æ–‡å­—ã¯æ®‹ã™ï¼‰\n        if m:\n\
          \            cleaned_first = first[:m.start()] + first[m.end():]\n     \
          \       cleaned_first = cleaned_first.lstrip(\" \\t-.:ï¼š\")\n        else:\n\
          \            cleaned_first = first\n\n        cleaned = \"\\n\".join([cleaned_first]\
          \ + lines[1:]) if lines else \"\"\n        return order, cleaned\n\n   \
          \ parts = [extract_order_and_body(md) for md in markdown_list]\n    parts.sort(key=lambda\
          \ x: x[0])\n    combined = \"\\n\".join(body for _, body in parts)\n\n \
          \   return {\n        \"result\": combined,\n    }\n"
        code_language: python3
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Markdownçµåˆ
        type: code
        variables:
        - value_selector:
          - '1770991923703'
          - output
          value_type: array[string]
          variable: markdown_list
      height: 52
      id: '1771032675892'
      position:
        x: 3830
        y: 373
      positionAbsolute:
        x: 3830
        y: 373
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The content to save as a file. This can be plain text or base64
              encoded binary data. Choose the appropriate format in the "format" parameter.
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯ Base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã€‚ "format" ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§é©åˆ‡ãªå½¢å¼ã‚’é¸æŠã™ã‚‹ã€‚
            pt_BR: O conteÃºdo a ser salvo como arquivo. Pode ser texto simples ou
              dados binÃ¡rios codificados em Base64. Escolha o formato apropriado no
              parÃ¢metro "format".
            zh_Hans: è¦ä¿å­˜ä¸ºæ–‡ä»¶çš„å†…å®¹ã€‚å¯ä»¥æ˜¯çº¯æ–‡æœ¬æˆ– Base64 ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ®ã€‚ åœ¨ "format" å‚æ•°ä¸­é€‰æ‹©é€‚å½“çš„æ ¼å¼ã€‚
          label:
            en_US: Content to save
            ja_JP: Content to save
            pt_BR: Content to save
            zh_Hans: Content to save
          llm_description: ''
          max: null
          min: null
          name: content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: output.txt
          form: llm
          human_description:
            en_US: The name of the file to save the content as. This should include
              the file extension (e.g., "output.txt").
            ja_JP: ä¿å­˜ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åã€‚ ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’å«ã‚ã‚‹ï¼ˆä¾‹ï¼š"output.txt"ï¼‰ã€‚
            pt_BR: O nome do arquivo para salvar o conteÃºdo. Deve incluir a extensÃ£o
              do arquivo (por exemplo, "output.txt").
            zh_Hans: ä¿å­˜å†…å®¹çš„æ–‡ä»¶åã€‚ åº”åŒ…å«æ–‡ä»¶æ‰©å±•åï¼ˆä¾‹å¦‚ï¼š"output.txt"ï¼‰ã€‚
          label:
            en_US: File name to save as
            ja_JP: File name to save as
            pt_BR: File name to save as
            zh_Hans: File name to save as
          llm_description: ''
          max: null
          min: null
          name: filename
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The MIME type of the file. If not provided, it will be guessed
              from the file name.
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã® MIME ã‚¿ã‚¤ãƒ—ã€‚æä¾›ã•ã‚Œãªã„å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ¨æ¸¬ã•ã‚Œã‚‹ã€‚
            pt_BR: O tipo MIME do arquivo. Se nÃ£o fornecido, serÃ¡ adivinhado a partir
              do nome do arquivo.
            zh_Hans: æ–‡ä»¶çš„ MIME ç±»å‹ã€‚å¦‚æœæœªæä¾›ï¼Œå°†ä»æ–‡ä»¶åçŒœæµ‹ã€‚
          label:
            en_US: MIME type of the file
            ja_JP: MIME type of the file
            pt_BR: MIME type of the file
            zh_Hans: MIME type of the file
          llm_description: ''
          max: null
          min: null
          name: mime_type
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: text
          form: form
          human_description:
            en_US: The format of the content to save. Select "text" to save passed
              string content as is, or "base64" to save passed content after decoding
              it from base64.
            ja_JP: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å½¢å¼ã€‚ æ¸¡ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãã®ã¾ã¾ä¿å­˜ã™ã‚‹å ´åˆã¯ "text" ã‚’é¸æŠã—ã€ Base64 ã‹ã‚‰ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦ä¿å­˜ã™ã‚‹å ´åˆã¯
              "base64" ã‚’é¸æŠã™ã‚‹ã€‚
            pt_BR: O formato do conteÃºdo a ser salvo. Selecione "text" para salvar
              o conteÃºdo da string passada como estÃ¡, ou "base64" para salvar o conteÃºdo
              passado apÃ³s decodificÃ¡-lo do Base64.
            zh_Hans: è¦ä¿å­˜çš„å†…å®¹æ ¼å¼ã€‚ é€‰æ‹© "text" æŒ‰åŸæ ·ä¿å­˜ä¼ é€’çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œ æˆ–é€‰æ‹© "base64" åœ¨ä» Base64 è§£ç åä¿å­˜ä¼ é€’çš„å†…å®¹ã€‚
          label:
            en_US: Format of the content
            ja_JP: Format of the content
            pt_BR: Format of the content
            zh_Hans: Format of the content
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - icon: ''
            label:
              en_US: text
              ja_JP: text
              pt_BR: text
              zh_Hans: text
            value: text
          - icon: ''
            label:
              en_US: base64
              ja_JP: base64
              pt_BR: base64
              zh_Hans: base64
            value: base64
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: ''
          form: llm
          human_description:
            en_US: The encoding to use when saving the file. This parameter is only
              used when the format is "text". Specify a valid Python encoding name
              (e.g., "utf-8", "shift_jis", "euc-jp"). Default is empty, which means
              "utf-8".
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€‚ ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€å½¢å¼ãŒ "text" ã®å ´åˆã«ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ æœ‰åŠ¹ãª Python
              ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°åã‚’æŒ‡å®šã™ã‚‹ï¼ˆä¾‹ï¼š"utf-8"ã€"shift_jis"ã€"euc-jp"ï¼‰ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºã§ã€"utf-8" ã‚’æ„å‘³ã™ã‚‹ã€‚
            pt_BR: A codificaÃ§Ã£o a ser usada ao salvar o arquivo. Este parÃ¢metro Ã©
              usado apenas quando o formato Ã© "text". Especifique um nome de codificaÃ§Ã£o
              Python vÃ¡lido (por exemplo, "utf-8", "shift_jis", "euc-jp"). O padrÃ£o
              Ã© vazio, o que significa "utf-8".
            zh_Hans: ä¿å­˜æ–‡ä»¶æ—¶ä½¿ç”¨çš„ç¼–ç ã€‚ æ­¤å‚æ•°ä»…åœ¨æ ¼å¼ä¸º "text" æ—¶ä½¿ç”¨ã€‚ æŒ‡å®šæœ‰æ•ˆçš„ Python ç¼–ç åç§°ï¼ˆä¾‹å¦‚ï¼š"utf-8"ã€"shift_jis"ã€"euc-jp"ï¼‰ã€‚
              é»˜è®¤å€¼ä¸ºç©ºï¼Œè¡¨ç¤º "utf-8"ã€‚
          label:
            en_US: Encoding
            ja_JP: ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
            pt_BR: CodificaÃ§Ã£o
            zh_Hans: ç¼–ç 
          llm_description: ''
          max: null
          min: null
          name: encoding
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          content: ''
          encoding: ''
          filename: ''
          format: ''
          mime_type: ''
        plugin_id: kurokobo/file_tools
        plugin_unique_identifier: kurokobo/file_tools:0.0.2@8bde7b4d2c30cf22e8f6ce851572af244f7a5776addab94330b820dc2160726c
        provider_icon: https://dify.k-ishigaki.com/console/api/workspaces/current/plugin/icon?tenant_id=0c49c8ba-2169-427e-81e8-d055005de118&filename=ee7d6c28060a54d022218fdf905d7111d02c37749d033c631e13651d6a1539d2.svg
        provider_id: kurokobo/file_tools/file_tools
        provider_name: kurokobo/file_tools/file_tools
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
        tool_configurations:
          format:
            type: constant
            value: text
        tool_description: å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯ Base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚’ã€æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«åã¨ MIME ã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
        tool_name: save_as_file
        tool_node_version: '2'
        tool_parameters:
          content:
            type: mixed
            value: '{{#1771119033901.result#}}'
          encoding:
            type: mixed
            value: ''
          filename:
            type: mixed
            value: '{{#1770452282569.file.name#}}.md'
          mime_type:
            type: mixed
            value: ''
        type: tool
      height: 88
      id: '1771032823991'
      position:
        x: 4514
        y: 355
      positionAbsolute:
        x: 4514
        y: 355
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(markdown: str):\n    \"\"\"Remove duplicate headings (same\
          \ level & same text) while scanning top-to-bottom.\n\n    A heading is a\
          \ line that starts with one or more '#' and is NOT inside a fenced code\
          \ block.\n    If the same heading text already appeared at the same level\
          \ in the current heading state,\n    the heading line is removed.\n    \"\
          \"\"\n\n    lines = markdown.splitlines(True)  # keep line breaks\n\n  \
          \  # current heading situation (index: level-1, value: heading text)\n \
          \   heading_state: list[str] = []\n\n    in_fenced_code = False\n    fence\
          \ = \"\"  # ``` or ~~~\n\n    out: list[str] = []\n\n    for line in lines:\n\
          \        stripped = line.lstrip()\n\n        # Toggle fenced code block\
          \ (``` or ~~~)\n        if not in_fenced_code:\n            if stripped.startswith(\"\
          ```\") or stripped.startswith(\"~~~\"):\n                in_fenced_code\
          \ = True\n                fence = stripped[:3]\n                out.append(line)\n\
          \                continue\n        else:\n            if stripped.startswith(fence):\n\
          \                in_fenced_code = False\n                fence = \"\"\n\
          \                out.append(line)\n                continue\n          \
          \  out.append(line)\n            continue\n\n        # Detect heading: starts\
          \ with # (not in code block)\n        if stripped.startswith(\"#\"):\n \
          \           # count heading level\n            i = 0\n            while\
          \ i < len(stripped) and stripped[i] == \"#\":\n                i += 1\n\
          \            level = i\n\n            # require a space after #'s (common\
          \ markdown heading form)\n            if i < len(stripped) and stripped[i]\
          \ == \" \":\n                heading_text = stripped[i + 1 :].rstrip(\"\\\
          r\\n\")\n\n                # ensure heading_state length\n             \
          \   if len(heading_state) < level:\n                    heading_state.extend([\"\
          \"] * (level - len(heading_state)))\n\n                # if same heading\
          \ already stored at this level -> remove this line\n                if heading_state[level\
          \ - 1] == heading_text:\n                    continue\n\n              \
          \  # otherwise overwrite store at this level\n                heading_state[level\
          \ - 1] = heading_text\n\n        out.append(line)\n\n    return {\n    \
          \    \"result\": \"\".join(out),\n    }\n"
        code_language: python3
        desc: 1ãƒšãƒ¼ã‚¸ãšã¤markdownåŒ–ã—ã¦ã„ã‚‹ã®ã§ã€ãƒšãƒ¼ã‚¸ã‚’ã¾ãŸãå ´åˆã«è¦‹å‡ºã—ãŒé‡è¤‡ã—ã¦å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã†ã€‚ãã®é‡è¤‡ã—ãŸè¦‹å‡ºã—ã‚’ã‚³ãƒ¼ãƒ‰ã§åˆ¤åˆ¥ã—ã¦é™¤å»ã—ã¦ã„ã‚‹ã€‚
        outputs:
          result:
            children: null
            type: string
        selected: true
        title: é‡è¤‡è¦‹å‡ºã—é™¤å»
        type: code
        variables:
        - value_selector:
          - '1771032675892'
          - result
          value_type: string
          variable: markdown
      height: 144
      id: '1771119033901'
      position:
        x: 4172
        y: 373
      positionAbsolute:
        x: 4172
        y: 373
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -335.90017755777876
      y: 202.69063714853928
      zoom: 0.47547019959213216
  rag_pipeline_variables: []
